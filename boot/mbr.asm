[bits 16]
[org 0x7c00]


real_mode_entry:

    cli

    xor ax, ax

    mov ds, ax
    mov es, ax
    mov ss, ax

    mov sp, 0x7c00

    sti


load_loader:

    mov word[si + 0x00], 0x10
    mov word[si + 0x02], 0x05
    mov word[si + 0x04], 0x7e00
    mov word[si + 0x06], 0x00

    mov dword[si + 0x08], 0x01
    mov dword[si + 0x0c], 0x00

    mov ah, 0x42
    int 0x13

    jmp 0x7e00

end:
    cli
    hlt
    jmp end

times (0x01be - ($ - $$)) db 0x00

db 0x80
db 0x00, 0x02, 0x00
db 0xf0
db 0xff, 0xff, 0xff

dd 0x01
dd ((0x14 * 0x10 * 0x3f) - 0x01)
	
times (0x10 * 0x03) db 0x00

db 0x55
db 0xaa
